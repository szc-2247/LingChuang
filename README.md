# 智农兴商———智慧农业乡村振兴系统 README

## 一、项目概述
“智农兴商———智慧农业乡村振兴系统” 是一个旨在助力农业发展的综合性系统，通过整合多种功能，为用户提供天气信息查询、土壤湿度监测、农作物疾病识别以及与农业专家助手对话等服务，推动智慧农业的发展，助力乡村振兴。

## 二、功能介绍
1. **天气信息查询**：能够获取当天及未来 7 天的天气数据，包括日期、天气状况、气温、风力风向、降水量、相对湿度、空气质量等信息，并以表格形式展示在界面上。
2. **土壤湿度监测**：模拟生成土壤湿度数据，显示当前土壤相对湿度，可查看历史土壤湿度数据图表，直观了解土壤湿度变化情况。
3. **农作物疾病识别**：支持上传农作物图片，模拟识别农作物疾病，显示识别结果、识别正确概率以及针对该疾病的防治措施。
4. **对话功能**：接入 DeepSeek - V3 满血版，用户可与名为 “小农” 的农业专家助手进行对话，助手可根据当前天气、土壤湿度等信息以及与用户的聊天记忆，为用户提供专业的农业相关建议和解答。
5. **搜索功能**：用户可通过输入关键词，调用微软 Bing 搜索引擎进行网页搜索。
6. **用户管理**：提供用户注册和登录功能，用户信息存储在 `accounts.txt` 文件中。

## 三、技术栈
1. **编程语言**：Python
2. **主要库和框架**：
    - `tkinter`：用于创建图形用户界面（GUI）。
    - `PIL`（Python Imaging Library）：处理图片相关操作，如图片的打开、缩放和显示。
    - `matplotlib`：用于绘制土壤湿度历史数据图表。
    - `BeautifulSoup`：解析网页内容，获取天气数据。
    - `openai`：调用 DeepSeek API 实现对话功能。
    - `geocoder`：获取用户当前位置信息。
    - `socket`：获取用户当前 IP 地址。
    - `requests`：发送 HTTP 请求，获取网页数据。

## 四、安装指南
1. 确保已安装 Python 环境，建议使用 Python 3.6 及以上版本。
2. 安装项目所需的库和框架，可通过以下命令在终端中安装：
```bash
pip install tkinter pillow matplotlib beautifulsoup4 openai geocoder requests
```
3. 确保安装了 `openai` 库，并根据 DeepSeek API 的要求配置好 API 密钥。

## 五、使用方法
1. 运行程序，打开 “智农兴商———智慧农业乡村振兴系统” 主界面。
2. **登录/注册**：
    - 若已有账号，输入账号和密码，点击 “登录” 按钮进行登录。
    - 若没有账号，点击 “注册” 按钮，在弹出的注册窗口中输入账号、密码和重复密码，点击 “注册” 按钮完成注册后再登录。
3. **天气信息查询**：
    - 在主界面中切换到 “天气预报” 选项卡。
    - 点击 “获取并展示天气数据” 按钮，系统将从中国天气网获取天气数据并展示在界面上。
4. **土壤湿度监测**：
    - 切换到 “土壤湿度数据” 选项卡，可查看当前土壤相对湿度。
    - 点击 “刷新当前数据” 按钮可更新当前土壤湿度数据。
    - 点击 “查看历史数据” 按钮，可查看过去 5 天的土壤湿度历史数据图表。
5. **农作物疾病识别**：
    - 切换到 “农作物疾病识别” 选项卡。
    - 点击 “上传图片” 按钮，选择要识别的农作物图片。
    - 点击 “开始识别” 按钮，系统将模拟识别农作物疾病，并显示识别结果、识别正确概率以及防治措施。
6. **对话功能**：
    - 切换到 “对话功能——已接入 deepseek - V3 满血版” 选项卡。
    - 在输入框中输入问题或指令，点击 “发送” 按钮，与农业专家助手进行对话。
    - 点击 “保存聊天记录” 按钮可将聊天记录保存到文件，点击 “加载聊天记录” 按钮可从文件中加载聊天记录。
7. **搜索功能**：
    - 在主界面的搜索栏中输入关键词。
    - 点击 “搜索” 按钮，系统将调用微软 Bing 搜索引擎进行网页搜索，并在浏览器中打开搜索结果页面。

## 六、API 密钥配置
1. 在代码中找到 `DEEPSEEK_API_KEY` 变量，将其值设置为你自己的 DeepSeek API 密钥：
```python
DEEPSEEK_API_KEY = ""
```
2. 确保你的 API 密钥正确且有效，否则对话功能可能无法正常使用。

## 七、注意事项
1. 天气数据获取功能依赖于中国天气网的网页结构，若网页结构发生变化，可能导致数据获取失败，需及时调整代码。
2. 农作物疾病识别功能为模拟实现，实际应用中可能需要接入更准确的识别模型或服务。
3. 对话功能依赖于 DeepSeek API 的服务稳定性，若 API 出现故障或网络连接问题，可能无法正常获取回复。
4. 在使用过程中，如遇到任何问题或错误，请查看控制台输出的错误信息，并根据 README 文件中的说明进行排查和解决。

希望以上 README 文件对你有所帮助，若你还有其他问题或需要进一步的帮助，请随时联系。 
